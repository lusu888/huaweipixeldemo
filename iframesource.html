<html>
  <head>
  </head>
  <body>
    <script>
      function getParentUrl() {
          var isInIframe = (parent !== window),
              parentUrl = null;

          if (isInIframe) {
              parentUrl = document.referrer;
          }

          return parentUrl;
      }

      function getQueryString(fatherUrl, name) {
          console.log("fatherUrlï¼š " + fatherUrl);
          console.log("name: " + name);
          var reg = new RegExp("(^|&)" + name + "=([^&]*)(&|$)");
          var r = fatherUrl.match(reg);
          if (r != null) return unescape(r[2]); return null;
      }
      var parentURL = getParentUrl()
      console.log(parentURL)
      var trackingUrl= getQueryString(parentURL,"tracking_url")
      console.log("tracking url is : "+trackingUrl)
      

      var urlVars = {};
      var parts = window.location.href.replace(/[?&]+([^=&]+)=([^&]*)/gi, function (m, key, value) {
        urlVars[key.toLowerCase()] = value;
      });
      var s = '<scr' + 'ipt> (function(){window.recordTier = window.recordTier || [], window.recordTier.push({eventName: \'dtm.js\'});var e = document.getElementsByTagName(\'scr' + 'ipt\')[0], r = document.createElement(\'scr' + 'ipt\');r.async = !0, r.src = \'https://dtm-dre.platform.hicloud.com/download/web/dtm.js?id=DTM-ac1262027c6e10a2817cc06442e74a12\', e.parentNode.insertBefore(r, e);})(); </scr' + 'ipt> <scr' + 'ipt defer="defer"> recordTier.push({eventName: "effectiveLeadsForm", tracking_id: "35035793"}); </scr' + 'ipt>';
      s = s.replace('[%uid%]', urlVars['callcpl']);
      document.write(s);

    </script>
  <body>
</html>
